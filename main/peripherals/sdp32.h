#ifndef __SDP32_H__
#define __SDP32_H__

/********************************************************************************************
 *                              INCLUDES
 ********************************************************************************************/
 #include <stdbool.h>
#include <esp_err.h>
#include "../lvgl_esp32_drivers/lvgl_touch/i2cdev.h"

 /********************************************************************************************
 *                              DEFINES
 ********************************************************************************************/
#define SDP32_I2C_ADDRESS   0x21
#define BIU16(data, start)  (((uint16_t)(data)[start]) << 8 | ((data)[start + 1]))   // convert two 8 bit values to one word

/********************************************************************************************
 *                              TYPEDEFS
 ********************************************************************************************/
typedef struct
{
    i2c_dev_t i2c_dev;                                  //!< I2C device descriptor    
} sdp32_t;

/********************************************************************************************
 *                           GLOBAL VARIABLES
 ********************************************************************************************/
 
 /********************************************************************************************
 *                           STATIC VARIABLES
 ********************************************************************************************/
 
 /********************************************************************************************
 *                           STATIC PROTOTYPE
 ********************************************************************************************/
 
 /********************************************************************************************
 *                           STATIC FUNCTIONS
 ********************************************************************************************/

/********************************************************************************************
 *                           GLOBAL FUNCTIONS
 ********************************************************************************************/
esp_err_t sdp32_init_desc(sdp32_t *dev, uint8_t addr, i2c_port_t port, gpio_num_t sda_gpio, gpio_num_t scl_gpio);
int sdp32_send_cmd_read(sdp32_t *dev, uint8_t *cmd);
int sdp32_read_pressure(sdp32_t *dev, uint8_t *read_data);
bool CheckCrc(const uint8_t data[], uint8_t size, uint8_t checksum);


#endif